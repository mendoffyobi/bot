<!-- その他電力会社:sonotapd.html start -->
  <div class="row">
    &nbsp;
  </div>
  <span id="keyword" style="display: none;"></span>
  <span style="font-size: 14pt;">現在の電力会社を選択してください</span>
  <div class="row">
    <div class="col-sm-1"><font size="5"></font></div>
    <div class="col-sm-11">
      <select id="company" class="form-control">
        <option value="">選択してください</option>
        <option value="株式会社ハルエネ(ハルエネでんき)">株式会社ハルエネ(ハルエネでんき)</option>
        <option value="KDDI株式会社（auでんき)">KDDI株式会社（auでんき)</option>
        <option value="大阪ガス株式会社">大阪ガス株式会社</option>
        <option value="株式会社オプテージ(旧株式会社ケイ・オプティコム）(eo電気)">株式会社オプテージ(旧株式会社ケイ・オプティコム）(eo電気)</option>
        <option value="東京電力エナジーパートナー">東京電力エナジーパートナー</option>
        <option value="中部電力">中部電力</option>
        <option value="東京ガス株式会社">東京ガス株式会社</option>
        <option value="株式会社Looop(Looopでんき)">株式会社Looop(Looopでんき)</option>
        <option value="ミツウロコグリーンエネルギー株式会社(ミツウロコでんき)">ミツウロコグリーンエネルギー株式会社(ミツウロコでんき)</option>
        <option value="JXTGエネルギー株式会社(旧JXエネルギー)(ENEOSｄでんき)">JXTGエネルギー株式会社(旧JXエネルギー)(ENEOSｄでんき)</option>
        <option value="SBパワー株式会社(ソフトバンクでんき)">SBパワー株式会社(ソフトバンクでんき)</option>
        <option value="ジェイコム(J:COM)">ジェイコム(J:COM)</option>
        <option value="JXTGエネルギー株式会社(旧東燃ゼネラル石油)(myでんき)">JXTGエネルギー株式会社(旧東燃ゼネラル石油)(myでんき)</option>
        <option value="株式会社新出光(イデックスでんき)">株式会社新出光(イデックスでんき)</option>
        <option value="HTBエナジー株式会社(たのしいでんき)">HTBエナジー株式会社(たのしいでんき)</option>
        <option value="株式会社サイサン(エネワンでんき)">株式会社サイサン(エネワンでんき)</option>
        <option value="株式会社トドック電力(トドック電力)">株式会社トドック電力(トドック電力)</option>
        <option value="イーレックス株式会社">イーレックス株式会社</option>
        <option value="株式会社東急パワーサプライ(東急でんき)">株式会社東急パワーサプライ(東急でんき)</option>
        <option value="株式会社アイ・グリッド・ソリューションズ(スマ電)">株式会社アイ・グリッド・ソリューションズ(スマ電)</option>
        <option value="丸紅新電力株式会社">丸紅新電力株式会社</option>
        <option value="楽天株式会社（楽天でんき）">楽天株式会社（楽天でんき）</option>
        <option value="シン・エナジー株式会社（旧洸陽電機）">シン・エナジー株式会社（旧洸陽電機）</option>
        <option value="株式会社サニックス（サニックスでんき）">株式会社サニックス（サニックスでんき）</option>
        <option value="株式会社F－Power（ピタでん）">株式会社F－Power（ピタでん）</option>
        <option value="株式会社スマートテック（スマートでんき）">株式会社スマートテック（スマートでんき）</option>
        <option value="株式会社エコスタイル（エコスタイルでんき）">株式会社エコスタイル（エコスタイルでんき）</option>
        <option value="あくびコミュニケーションズ株式会社（AKUBIでんき）">あくびコミュニケーションズ株式会社（AKUBIでんき）</option>
        <option value="出光興産株式会社（出光昭和シェル）">出光興産株式会社（出光昭和シェル）</option>
        <option value="株式会社PinT（PinTでんき）">株式会社PinT（PinTでんき）</option>
        <option value="その他">その他</option>
      </select>
    </div>
  </div>
  <div class="row">
    &nbsp;
  </div>
  <span style="font-size: 14pt;">現在ご利用中の電気料金プラン</span>
  <div class="row">
    <div class="col-sm-1"><font size="5"></font></div>
    <div class="col-sm-11">
      <select id="plan" class="form-control">
        <option value="">選択してください</option>
        <option value="基本料金のないプラン">基本料金のないプラン(例：従量電灯A)</option>
        <option value="基本料金のあるプラン">基本料金のあるプラン(例：従量電灯B)</option>
      </select>
    </div>
  </div>
  <div class="row">
    &nbsp;
  </div>
  <span style="font-size: 14pt;">ご契約容量を入力してください</span>
  <div class="row">
    <div class="col-sm-1"><font size="5"></font></div>
    <div class="col-sm-11">
      <input type="text" id="capacity" class="big" size="40">
    </div>
  </div>
  <div class="row">
    &nbsp;
  </div>
  <span style="font-size: 14pt;">ご契約容量の単位を選択してください</span>
  <div class="row">
    <div class="col-sm-1"><font size="5"></font></div>
    <div class="col-sm-11">
      <select id="capacityUnit" class="form-control">
        <option value="">選択してください</option>
        <option value="kVA">kVA</option>
        <option value="kVA">kW</option>
      </select>
    </div>
  </div>
  <div class="row">
    &nbsp;
  </div>
  <div class="row">
    <div class="col-sm-1"></div>
    <div class="col-sm-11">
      <button type="button" class="btn btn-lg btn-success" onClick="sendMsg();">決定</button>
    </div>
  </div>
  <div class="row">
    &nbsp;
  </div>
  <script>
    function sendMsg() {
      let msg = "";
      let capacity = "";
      let capacityUnit = "";
      if ($("#company").val() == "") {
        msg += "電力会社を選択してください";
      }
      if ($("#plan").val() == "") {
        msg += "電気料金プランを選択してください";
      }
      if ($("#plan").val() == "基本料金のあるプラン") {
        capacity = $("#capacity").val();
        capacityUnit = $("#capacityUnit").val();
        if (capacity == "") {
          msg += "ご契約容量を入力してください";
        }
        if (capacityUnit == "") {
          msg += "ご契約容量の単位を選択してください";
        }
      }
      if (msg) {
        alert(msg);
        return false;
      }
      var text = "入力-";
      text += $("#keyword").text() + ":";
      text += $("#company").val() + "|";
      text += $("#plan").val() + "|";
      text += capacity + capacityUnit;
      liff.sendMessages([
        {
          "type": "text",
          "text":  text
        }
      ])
      .then(() => {
        liff.closeWindow();
      })
      .catch((err) => {
        alert(err);
        liff.closeWindow();
      });
    }

    // 契約容量のプルダウン連動
    function makeCapacity() {
      $('#plan').change(function() {
        if ($(this).val() === "基本料金のあるプラン") {
          $("#capacity").removeAttr('disabled');
          $("#capacityUnit").removeAttr('disabled');
        } else {
          $("#capacity").attr('disabled', 'disabled');
          $("#capacityUnit").attr('disabled', 'disabled');
        }
      });
    }

  </script>
<!-- その他電力会社:sonotapd.html end -->
