<!-- その他電力会社:sonotapd.html start -->
  <div class="row">
    &nbsp;
  </div>
  <span id="keyword" style="display: none;"></span>
  <span style="font-size: 14pt;">現在の電力会社を選択してください</span>
  <div class="row">
    <div class="col-sm-1"><font size="5"></font></div>
    <div class="col-sm-11">
      <select id="company" class="form-control">
        <option value="">選択してください</option>
        <option value="株式会社ハルエネ(ハルエネでんき)">株式会社ハルエネ(ハルエネでんき)</option>
        <option value="KDDI株式会社（auでんき)">KDDI株式会社（auでんき)</option>
        <option value="大阪ガス株式会社">大阪ガス株式会社</option>
        <option value="株式会社オプテージ(旧株式会社ケイ・オプティコム）(eo電気)">株式会社オプテージ(旧株式会社ケイ・オプティコム）(eo電気)</option>
        <option value="東京電力エナジーパートナー">東京電力エナジーパートナー</option>
        <option value="中部電力">中部電力</option>
        <option value="東京ガス株式会社">東京ガス株式会社</option>
        <option value="株式会社Looop(Looopでんき)">株式会社Looop(Looopでんき)</option>
        <option value="ミツウロコグリーンエネルギー株式会社(ミツウロコでんき)">ミツウロコグリーンエネルギー株式会社(ミツウロコでんき)</option>
        <option value="JXTGエネルギー株式会社(旧JXエネルギー)(ENEOSｄでんき)">JXTGエネルギー株式会社(旧JXエネルギー)(ENEOSｄでんき)</option>
        <option value="SBパワー株式会社(ソフトバンクでんき)">SBパワー株式会社(ソフトバンクでんき)</option>
        <option value="ジェイコム(J：COM)">ジェイコム(J：COM)</option>
        <option value="JXTGエネルギー株式会社(旧東燃ゼネラル石油)(myでんき)">JXTGエネルギー株式会社(旧東燃ゼネラル石油)(myでんき)</option>
        <option value="株式会社新出光(イデックスでんき)">株式会社新出光(イデックスでんき)</option>
        <option value="HTBエナジー株式会社(たのしいでんき)">HTBエナジー株式会社(たのしいでんき)</option>
        <option value="株式会社サイサン(エネワンでんき)">株式会社サイサン(エネワンでんき)</option>
        <option value="株式会社トドック電力(トドック電力)">株式会社トドック電力(トドック電力)</option>
        <option value="イーレックス株式会社">イーレックス株式会社</option>
        <option value="株式会社東急パワーサプライ(東急でんき)">株式会社東急パワーサプライ(東急でんき)</option>
        <option value="株式会社アイ・グリッド・ソリューションズ(スマ電)">株式会社アイ・グリッド・ソリューションズ(スマ電)</option>
        <option value="丸紅新電力株式会社">丸紅新電力株式会社</option>
        <option value="楽天株式会社（楽天でんき）">楽天株式会社（楽天でんき）</option>
        <option value="シン・エナジー株式会社（旧洸陽電機）">シン・エナジー株式会社（旧洸陽電機）</option>
        <option value="株式会社サニックス（サニックスでんき）">株式会社サニックス（サニックスでんき）</option>
        <option value="株式会社F－Power（ピタでん）">株式会社F－Power（ピタでん）</option>
        <option value="株式会社スマートテック（スマートでんき）">株式会社スマートテック（スマートでんき）</option>
        <option value="株式会社エコスタイル（エコスタイルでんき）">株式会社エコスタイル（エコスタイルでんき）</option>
        <option value="あくびコミュニケーションズ株式会社（AKUBIでんき）">あくびコミュニケーションズ株式会社（AKUBIでんき）</option>
        <option value="出光興産株式会社（出光昭和シェル）">出光興産株式会社（出光昭和シェル）</option>
        <option value="株式会社PinT（PinTでんき）">株式会社PinT（PinTでんき）</option>
        <option value="その他">その他</option>
      </select>
    </div>
  </div>
  <div class="row">
    &nbsp;
  </div>
  <span style="font-size: 14pt;">現在ご利用中の電気料金プラン</span>
  <div class="row">
    <div class="col-sm-1"><font size="5"></font></div>
    <div class="col-sm-11">
      <select id="plan" class="form-control">
        <option value="">選択してください</option>
        <option value="基本料金のないプラン">基本料金のないプラン(例：従量電灯A)</option>
        <option value="基本料金のあるプラン(kVA)">基本料金のあるプラン(例：従量電灯B[単位kVA])</option>
        <option value="基本料金のあるプラン(kW)">基本料金のあるプラン(例：低圧電力[単位kW])</option>
      </select>
    </div>
  </div>

  <div id="dispCapacity1">
    <div class="row">
      &nbsp;
    </div>
    <div style="font-size: 14pt;">
      ご契約容量を選択してください
    </div>
    <div class="row">
      <div class="col-sm-1"><font size="5"></font></div>
      <div class="col-sm-11">
        <select id="capacity1" class="form-control">
          <option value="">選択してください</option>
          <option value="6kVA">6kVA</option>
          <option value="7kVA">7kVA</option>
          <option value="8kVA">8kVA</option>
          <option value="9kVA">9kVA</option>
          <option value="10kVA">10kVA</option>
          <option value="11kVA">11kVA</option>
          <option value="12kVA">12kVA</option>
          <option value="13kVA">13kVA</option>
          <option value="14kVA">14kVA</option>
          <option value="15kVA">15kVA</option>
          <option value="16kVA">16kVA</option>
          <option value="17kVA">17kVA</option>
          <option value="18kVA">18kVA</option>
          <option value="19kVA">19kVA</option>
          <option value="20kVA">20kVA</option>
          <option value="21kVA">21kVA</option>
          <option value="22kVA">22kVA</option>
          <option value="23kVA">23kVA</option>
          <option value="24kVA">24kVA</option>
          <option value="25kVA">25kVA</option>
          <option value="26kVA">26kVA</option>
          <option value="27kVA">27kVA</option>
          <option value="28kVA">28kVA</option>
          <option value="29kVA">29kVA</option>
          <option value="30kVA">30kVA</option>
          <option value="31kVA">31kVA</option>
          <option value="32kVA">32kVA</option>
          <option value="33kVA">33kVA</option>
          <option value="34kVA">34kVA</option>
          <option value="35kVA">35kVA</option>
          <option value="36kVA">36kVA</option>
          <option value="37kVA">37kVA</option>
          <option value="38kVA">38kVA</option>
          <option value="39kVA">39kVA</option>
          <option value="40kVA">40kVA</option>
          <option value="41kVA">41kVA</option>
          <option value="42kVA">42kVA</option>
          <option value="43kVA">43kVA</option>
          <option value="44kVA">44kVA</option>
          <option value="45kVA">45kVA</option>
          <option value="46kVA">46kVA</option>
          <option value="47kVA">47kVA</option>
          <option value="48kVA">48kVA</option>
          <option value="49kVA">49kVA</option>
        </select>
      </div>
    </div>
  </div>

  <div id="dispCapacity2">
    <div class="row">
      &nbsp;
    </div>
    <div style="font-size: 14pt;">
      ご契約容量を選択してください
    </div>
    <div class="row">
      <div class="col-sm-1"><font size="5"></font></div>
      <div class="col-sm-11">
        <select id="capacity2" class="form-control">
          <option value="">選択してください</option>
          <option value="0.5kW">0.5kW</option>
          <option value="1kW">1kW</option>
          <option value="2kW">2kW</option>
          <option value="3kW">3kW</option>
          <option value="4kW">4kW</option>
          <option value="5kW">5kW</option>
          <option value="6kW">6kW</option>
          <option value="7kW">7kW</option>
          <option value="8kW">8kW</option>
          <option value="9kW">9kW</option>
          <option value="10kW">10kW</option>
          <option value="11kW">11kW</option>
          <option value="12kW">12kW</option>
          <option value="13kW">13kW</option>
          <option value="14kW">14kW</option>
          <option value="15kW">15kW</option>
          <option value="16kW">16kW</option>
          <option value="17kW">17kW</option>
          <option value="18kW">18kW</option>
          <option value="19kW">19kW</option>
          <option value="20kW">20kW</option>
          <option value="21kW">21kW</option>
          <option value="22kW">22kW</option>
          <option value="23kW">23kW</option>
          <option value="24kW">24kW</option>
          <option value="25kW">25kW</option>
          <option value="26kW">26kW</option>
          <option value="27kW">27kW</option>
          <option value="28kW">28kW</option>
          <option value="29kW">29kW</option>
          <option value="30kW">30kW</option>
          <option value="31kW">31kW</option>
          <option value="32kW">32kW</option>
          <option value="33kW">33kW</option>
          <option value="34kW">34kW</option>
          <option value="35kW">35kW</option>
          <option value="36kW">36kW</option>
          <option value="37kW">37kW</option>
          <option value="38kW">38kW</option>
          <option value="39kW">39kW</option>
          <option value="40kW">40kW</option>
          <option value="41kW">41kW</option>
          <option value="42kW">42kW</option>
          <option value="43kW">43kW</option>
          <option value="44kW">44kW</option>
          <option value="45kW">45kW</option>
          <option value="46kW">46kW</option>
          <option value="47kW">47kW</option>
          <option value="48kW">48kW</option>
          <option value="49kW">49kW</option>
        </select>
      </div>
    </div>
  </div>

  <div id="dispPowerFactor">
    <div class="row">
      &nbsp;
    </div>
    <div style="font-size: 14pt;">
      力率を選択してください
    </div>
    <div class="row">
      <div class="col-sm-12">
          <select id="powerFactor" class="form-control">
            <option value="">選択してください</option>
            <option value="90">90%</option>
            <option value="85">85%</option>
            <option value="80">80%</option>
          </select>
      </div>
    </div>
  </div>

  <div class="row">
    &nbsp;
  </div>
  <div class="row">
    <div class="col-sm-1"></div>
    <div class="col-sm-11">
      <button type="button" class="btn btn-lg btn-success" onClick="sendMsg();">決定</button>
    </div>
  </div>
  <div class="row">
    &nbsp;
  </div>
  <script>
    function sendMsg() {
      let msg = "";
      let capacity = "";
      let powerFactor = "";
      let company = $("#company").val();
      let plan = $("#plan").val();
      if (company == "") {
        msg += "電力会社を選択してください";
      }
      if (plan == "") {
        msg += "電気料金プランを選択してください";
      } else {
        switch(plan) {
          case "基本料金のあるプラン(kVA)":
            capacity = $("#capacity1").val();
            if (capacity == "") {
              msg += "ご契約容量を選択してください\n";
            }
            break;
          case "基本料金のあるプラン(kW)":
            capacity = $("#capacity2").val();
            powerFactor = $("#powerFactor").val();
            if (capacity == "") {
              msg += "ご契約容量を選択してください\n";
            }
            if (powerFactor == "") { 
              msg += "力率を選択してください\n";
            }
            break;
        }
      }
      if (msg) {
        alert(msg);
        return false;
      }
      var text = "入力-";
      text += $("#keyword").text() + ":";
      text += company + "|";
      text += plan + "|";
      text += capacity + "|";
      text += powerFactor;
      liff.sendMessages([
        {
          "type": "text",
          "text":  text
        }
      ])
      .then(() => {
        liff.closeWindow();
      })
      .catch((err) => {
        alert(err);
        liff.closeWindow();
      });
    }

    // 契約容量のプルダウン連動
    function makeCapacity() {
      $('#plan').change(function() {
        $("#dispCapacity1").hide();
        $("#dispCapacity2").hide();
        $("#dispPowerFactor").hide();
        switch($(this).val()) {
          case "基本料金のあるプラン(kVA)":
            $("#dispCapacity1").show();
            break;
          case "基本料金のあるプラン(kW)":
            $("#dispCapacity2").show();
            $("#dispPowerFactor").show();
            break;
        }
      });
      $('#plan').change();
    }

  </script>
<!-- その他電力会社:sonotapd.html end -->
